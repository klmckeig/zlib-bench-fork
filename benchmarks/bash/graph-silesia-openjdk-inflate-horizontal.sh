#!/bin/bash

CPU=${CPU:-"i7-8650U / 1900MHz"}
DIR=${DIR:-"i7-8650U-1900MHz-inflate-silesia-openjdk-2020-07-17"}

java -cp build/benchmarks/ io.simonis.CreateVegaLiteGraph -legend "" -title "Inflater throughput for Silesia corpus (part1) on $CPU" -template benchmarks/java/io/simonis/file-throughput-horizontal.json -map "openjdk-bundled:ojdk / zlib-bundled,openjdk-system:ojdk / zlib-system,openjdk-cloudflare:ojdk / zlib-cloudflare,openjdk-chromium:ojdk / zlib-chromium" -sort "ojdk / zlib-bundled,ojdk / zlib-system,ojdk / zlib-cloudflare,ojdk / zlib-chromium" -json graphs/$DIR/file-silesia-openjdk-horizontal-part1.json -svg graphs/$DIR/file-silesia-openjdk-horizontal-part1.svg -png graphs/$DIR/file-silesia-openjdk-horizontal-part1.png -default-impl openjdk-bundled results/$DIR/openjdk-*-dickens.json results/$DIR/openjdk-*-mozilla.json results/$DIR/openjdk-*-mr.json results/$DIR/openjdk-*-nci.json results/$DIR/openjdk-*-ooffice.json results/$DIR/openjdk-*-sao.json

java -cp build/benchmarks/ io.simonis.CreateVegaLiteGraph -legend "" -title "Inflater throughput for Silesia corpus (part2) on $CPU" -template benchmarks/java/io/simonis/file-throughput-horizontal.json -map "openjdk-bundled:ojdk / zlib-bundled,openjdk-system:ojdk / zlib-system,openjdk-cloudflare:ojdk / zlib-cloudflare,openjdk-chromium:ojdk / zlib-chromium" -sort "ojdk / zlib-bundled,ojdk / zlib-system,ojdk / zlib-cloudflare,ojdk / zlib-chromium" -json graphs/$DIR/file-silesia-openjdk-horizontal-part2.json -svg graphs/$DIR/file-silesia-openjdk-horizontal-part2.svg -png graphs/$DIR/file-silesia-openjdk-horizontal-part2.png -default-impl openjdk-bundled results/$DIR/openjdk-*-reymont.json results/$DIR/openjdk-*-samba.json results/$DIR/openjdk-*-sao.json results/$DIR/openjdk-*-webster.json results/$DIR/openjdk-*-xml.json results/$DIR/openjdk-*-x-ray.json
